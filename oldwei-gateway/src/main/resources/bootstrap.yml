server:
  port: @pom.gateway.port@

spring:
  application:
    name: @pom.gateway.name@
  profiles:
    active: @pom.profile.name@
  cloud:
    config:
      name: ${spring.application.name},oldwei-redis
      profile: @pom.profile.name@
      label: develop
      #      uri: http://localhost:8002
      discovery:
        service-id: @pom.config.server.name@
        enabled: true                        #开启Config服务发现支持
      #配置重试机制
      retry:
        initial-interval: 2000
        max-attempts: 2000
        max-interval: 2000
        multiplier: 1.2
      fail-fast: true
    gateway:
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true
      routes:
        - id: @pom.product.name@
          uri: lb://@pom.product.name@
          predicates:
            - Path=/product/**
          filters:
            - StripPrefix=1


eureka:
  client:
    service-url:
      defaultZone: @pom.register.eureka.server.defaultZone@




## 暴露监控端点
#management:
#  endpoints:
#    web:
#      exposure:
#        include: '*'
#  security:
#    enabled: false
#  endpoint:
#    health:
#      show-details: always







